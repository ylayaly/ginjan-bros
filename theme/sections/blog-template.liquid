{% paginate blog.articles by 12 %}

  {% assign posts = blog.articles | sort: 'published_at' %}
  {% if posts.size > 0 %}
    {% assign article = posts[0] %}
    {%- assign img_url = article.image | img_url: 'master' -%}
    <div>
      <svg width="1" height="1">
        <clipPath id="hero" clipPathUnits="objectBoundingBox">
            <path id="Trazado_338" data-name="Trazado 338" d="M-2169.588,100.831l1,0v1s-.7,0-.885,0c-.06,0-.1-.109-.115-.25C-2169.588,101.576-2169.588,100.831-2169.588,100.831Z" transform="translate(2169.588 -100.828)"/>
        </clipPath>
      </svg>

      <div class="relative pt-32 lg:pt-56 pb-24 lg:pb-36">
        <div
          class="absolute inset-0 bg-no-repeat bg-center bg-cove blog-hero"
          style="background-image: url({{ img_url }})"
        ></div>
        <div class="absolute inset-0 bg-black/50 blog-hero"></div>
        <div class="relative text-white px-10 md:px-20">
          <div class="relative mb-2"><span class="text-xs bg-green-3 p-1 tracking-widest font-bold "> FEATURED </span></div>
          <div class="lg:max-w-[60%] 2xl:max-w-[40%] relative title-blog">
            <h1 class="relative font-bold text-3xl md:text-h2 pl-2.5 lg:pl-6 md:leading-[3rem]">{{ article.title }}</h1>
          </div>
          <div class="flex items-center gap-6 mt-6 pl-6 text-xs font-semibold">
            <a href="{{ article.url }}">
              READ MORE
              <div class="border-b-4 border-white"></div>
            </a>
            <div class="flex items-center gap-2">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                xmlns:xlink="http://www.w3.org/1999/xlink"
                width="18"
                height="18"
                viewBox="0 0 18 18"
              >
                <defs>
                  <clipPath id="clip-path">
                    <rect id="Rectángulo_205" data-name="Rectángulo 205" width="18" height="18" transform="translate(0 0)" fill="#fff"/>
                  </clipPath>
                </defs>
                <g id="Grupo_228" data-name="Grupo 228" transform="translate(0 0)" clip-path="url(#clip-path)">
                  <path id="Trazado_331" data-name="Trazado 331" d="M8.438,0H9.563A1.013,1.013,0,0,0,9.7.029a8.644,8.644,0,0,1,4.161,1.4,8.873,8.873,0,0,1,4.005,6.037c.059.321.091.647.136.971V9.563c-.01.045-.023.09-.03.136-.061.416-.1.837-.186,1.248a9.018,9.018,0,0,1-7.2,6.913c-.339.056-.682.094-1.022.141H8.438c-.22-.027-.44-.05-.659-.082A8.849,8.849,0,0,1,3.05,15.745,8.844,8.844,0,0,1,.14,10.568C.08,10.235.046,9.9,0,9.563V8.438c.027-.22.05-.44.081-.66A8.863,8.863,0,0,1,2.578,2.7,8.8,8.8,0,0,1,7.45.138C7.777.081,8.108.046,8.438,0M8.361,6.426h0c0,.837,0,1.675,0,2.512a.72.72,0,0,0,.291.606c1.039.828,2.075,1.661,3.116,2.486a.841.841,0,0,0,.34.166.613.613,0,0,0,.691-.359.633.633,0,0,0-.2-.784Q11.19,9.925,9.781,8.8a.332.332,0,0,1-.145-.292q.008-2.275,0-4.55a1.072,1.072,0,0,0-.029-.295.637.637,0,0,0-1.247.176c-.005.861,0,1.722,0,2.582" transform="translate(0 0)" fill="#fff"/>
                </g>
              </svg>
              <span>{{ article.metafields.custom.time }} MIN</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  {% endif %}

  {% if posts.size > 1 %}
    {% assign article = posts[1] %}
    

    <div class="px-10 md:px-20 mt-18">
      <h2 class="text-28 font-semibold text-blue-2 tracking-normal normal-case">Featured /</h2>
    </div>
    <div class="grid grid-cols-1 lg:grid-cols-2 2xl:grid-cols-featured-post gap-5 px-10 md:px-20 mt-8 ">
      {% render 'article-post-blog', article: article, class:'pt-36 3xl:pt-80 pb-24 3xl:pb-36' %}


      {% if posts.size > 2 %}
        {% assign article = posts[2] %}
        {% render 'article-post-blog', article: article, class:'pt-36 3xl:pt-80 pb-24 3xl:pb-36' %}
      {% endif %}

      {% if posts.size > 3 %}
        {% assign article = posts[3] %}
        {% render 'article-post-blog', article: article, class:'pt-36 3xl:pt-80 pb-24 3xl:pb-36', grid_class: 'lg:col-span-2 2xl:col-span-1' %}
      {% endif %}
    </div>
  {% endif %}

  {% if section.settings.blog %}
    <div class="relative bg-blue-2 px-10 md:px-20 mt-20">
      <div class="relative w-full flex justify-between items-start sm:items-center flex-col sm:flex-row">
        <div class="relative bg-white rounded-xl p-4 -top-4 w-full sm:w-auto">
          <h2 class="font-semibold text-28 text-blue-2 mb-3 tracking-normal normal-case">{{ section.settings.title }}</h2>
          <p class="text-green-3 text-sm lg:text-22">{{ section.settings.subtitle }}</p>
        </div>
        <div class="relative w-full sm:w-auto text-right">
          <a
            class="text-white text-sm lg:text-lg font-semibold tracking-widest flex items-center contact justify-end gap-4"
            href="{{ section.settings.blog.url }}"
          >
            <span class="w-full">{{ section.settings.text_link }}</span>
            <span class="input-group__btn h-8 block bg-contain w-8"></span>
          </a>
        </div>
      </div>

      <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 lg:gap-12 2xl:gap-18 py-16 lg:py-24 w-full ">
        {% assign dynamic_posts = section.settings.blog.articles | slice: 0, 3 %}
        {% for article in dynamic_posts %}
          {%- assign img_url = article.image | img_url: 'master' -%}
          <a href="{{ article.url }}" class="block external-article-post">
            <div class="relative overflow-hidden rounded-[18px] border border-white">
              <img src="{{ img_url }}" class="object-cover w-full h-56 transition-all duration-500" loading="lazy" width="auto" height="auto">
            </div>

            <div class="px-4 lg:px-8 mt-8">
              <div class="relative mb-4">
                <span class="text-xs p-1 tracking-widest font-bold text-white" style="background-color: {{ article.metafields.post.color_top_tag }}; color: {{ article.metafields.post.text_color_top_tag }}"> {{ article.metafields.post.top_tag }} </span>
              </div>
              <h4 class="font-bold text-2xl text-white">{{ article.title }}</h4>
            </div>
          </a>
        {% endfor %}
      </div>
    </div>
  {% endif %}

  {% if posts.size > 4 %}
    {% assign article = posts[4] %}

    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 lg:gap-12 2xl:gap-18 px-10 md:px-20 mt-14 ">
      {% render 'article-post-blog', article: article, class:'pt-20 lg:pt-28 pb-10' %}

      {% if posts.size > 5 %}
        {% assign article = posts[5] %}
        {% render 'article-post-blog', article: article, class:'pt-20 lg:pt-28 pb-10' %}
      {% endif %}

      {% if posts.size > 6 %}
        {% assign article = posts[6] %}
        {% render 'article-post-blog', article: article, class:'pt-20 lg:pt-28 pb-10' %}
      {% endif %}
    </div>
  {% endif %}

  {% if posts.size > 7 %}
    {% assign article = posts[7] %}
    {%- assign img_url = article.image | img_url: 'master' -%}

    <div class="px-10 md:px-20 mt-16">
        <div class="relative rounded-[18px] overflow-hidden">
            <div class="absolute inset-0 bg-center bg-no-repeat bg-cover bg-blue-2" style="background-image: url({{ img_url }})"></div>
            <div class="relative flex justify-center items-center flex-col h-full px-8 py-24 md:pt-36 md:pb-32 3xl:pt-52 3xl:pb-48">
                <div class="relative">
                <span class="text-xs bg-orange-3 p-1 tracking-widest font-bold text-blue-2" style="background-color: {{ article.metafields.post.color_top_tag }}; color: {{ article.metafields.post.text_color_top_tag }}"> {{ article.metafields.post.top_tag }} </span>
                </div>
                <div class="lg:max-w-[80%] relative title-blog w-90 mt-8 text-white text-center">
                    <h3 class="relative font-bold text-3xl md:text-h2 lg:text-4xl xl:text-7xl">{{ article.title }}</h3>
                </div>
                <div class="min-w-[70%] lg:min-w-[40%] relative mt-2 text-white text-center bg-green-3 p-3 lg:p-5">
                    <span class="relative font-bold text-base">{{ article.metafields.custom.products_subtitle | newline_to_br }}</span>
                </div>
                <div class="relative flex items-center gap-6 mt-12 text-xs font-semibold text-white">
                <a href="{{ article.url }}">
                    READ MORE
                    <div class="border-b-4 border-white"></div>
                </a>
                <div class="flex items-center gap-2">
                    <svg
                    xmlns="http://www.w3.org/2000/svg"
                    xmlns:xlink="http://www.w3.org/1999/xlink"
                    width="18"
                    height="18"
                    viewBox="0 0 18 18"
                    >
                    <defs>
                    <clipPath id="clip-path">
                        <rect id="Rectángulo_205" data-name="Rectángulo 205" width="18" height="18" transform="translate(0 0)" fill="#fff"/>
                    </clipPath>
                    </defs>
                    <g id="Grupo_228" data-name="Grupo 228" transform="translate(0 0)" clip-path="url(#clip-path)">
                    <path id="Trazado_331" data-name="Trazado 331" d="M8.438,0H9.563A1.013,1.013,0,0,0,9.7.029a8.644,8.644,0,0,1,4.161,1.4,8.873,8.873,0,0,1,4.005,6.037c.059.321.091.647.136.971V9.563c-.01.045-.023.09-.03.136-.061.416-.1.837-.186,1.248a9.018,9.018,0,0,1-7.2,6.913c-.339.056-.682.094-1.022.141H8.438c-.22-.027-.44-.05-.659-.082A8.849,8.849,0,0,1,3.05,15.745,8.844,8.844,0,0,1,.14,10.568C.08,10.235.046,9.9,0,9.563V8.438c.027-.22.05-.44.081-.66A8.863,8.863,0,0,1,2.578,2.7,8.8,8.8,0,0,1,7.45.138C7.777.081,8.108.046,8.438,0M8.361,6.426h0c0,.837,0,1.675,0,2.512a.72.72,0,0,0,.291.606c1.039.828,2.075,1.661,3.116,2.486a.841.841,0,0,0,.34.166.613.613,0,0,0,.691-.359.633.633,0,0,0-.2-.784Q11.19,9.925,9.781,8.8a.332.332,0,0,1-.145-.292q.008-2.275,0-4.55a1.072,1.072,0,0,0-.029-.295.637.637,0,0,0-1.247.176c-.005.861,0,1.722,0,2.582" transform="translate(0 0)" fill="#fff"/>
                    </g>
                    </svg>
                    <span>{{ article.metafields.custom.time }} MIN</span>
                </div>
                </div>
            </div>
        </div>
    </div>
  {%- endif -%}

  {% if posts.size > 8 %}
    <div class="grid lg:grid-cols-2 px-10 md:px-20 mt-16 gap-14">
    
    {% for i in (8..posts.size) %}
        {% assign article = posts[i] %}
        {% render 'article-post-blog', article: article, class:'pt-20 lg:pt-28 pb-10', title_class: 'md:max-w-[60%] mt-6' %}
        {%- assign img_url = article.image | img_url: 'master' -%}

    {% endfor %}
    </div>
{%- endif -%}  

  {%- if paginate.pages > 1 -%}
    {% include 'pagination', paginate: paginate %}
  {%- endif -%}
{% endpaginate %}


<section class="my-10 px-10 md:px-20">
    {%- assign img_url = section.settings.newsletter_image | img_url: 'master' -%}

    <div class="relative w-full border-4 border-blue-2 rounded-2xl overflow-hidden pb-12">
        <div class="absolute inset-0 rounded-2xl bg-center bg-no-repeat bg-cover overflow-hidden" style="background-image: url({{ img_url }})"></div>
        <div class="relative text-center xs:w-max mx-auto">
            <h2 class="bg-orange-3 text-blue-2 font-bold text-28 lg:text-4xl py-4 md:pt-8 md:pb-6 px-6 md:px-10 rounded-b-2xl tracking-normal normal-case">{{ section.settings.newsletter_title }}</h2>
        </div>
        <div class="relative bg-white mt-4 px-6 py-5 w-full md:w-3/4 xl:w-1/2 mx-auto">

                {%- assign formId = 'ContactBlog' -%}
                {% form 'customer', id: formId, novalidate: 'novalidate', class: 'relative' %}
                    {%- if form.posted_successfully? -%}
                    <p class="form-message form-message--success" tabindex="-1" data-form-status>
                        {{ 'general.newsletter_form.confirmation' | t }}
                    </p>
                    {%- endif -%}
                    <input type="hidden" name="contact[tags]" value="newsletter">
                    <div class="input-group {% if form.errors %} input-group--error{% endif %} contact border-2 border-white flex-nowrap overflow-hidden">
                    <input type="email"
                        name="contact[email]"
                        id="{{ formId }}-email"
                        class="input-group__field newsletter__input{% if form.errors %} input--error{% endif %} border-0 p-5 w-full mb-0 text-blue-2"
                        value="{{ form.email }}"
                        placeholder="your email"
                        aria-label="your email"
                        aria-required="true"
                        required
                        autocorrect="off"
                        autocapitalize="off"
                        {% if form.errors %}
                        aria-invalid="true"
                        aria-describedby="{{ formId }}-email-error"
                        data-form-status
                        {% endif %}
                        
                        >
                    {% comment %} <div class="input-group__btn w-20">
                        <button type="submit" class="newsletter__submit h-full w-full cursor-pointer" name="commit" id="Subscribe">
                        <span class="newsletter__submit-text--large"></span>
                        </button>
                    </div> {% endcomment %}
                    </div>
                    {% if form.errors contains 'email' %}
                    <span id="{{ formId }}-email-error" class="input-error-message">
                        <span class="visually-hidden">{{ 'general.accessibility.error' | t }} </span>
                        {% include 'icon-error' %}
                        <span class="site-footer__newsletter-error">{{ form.errors.translated_fields['email'] | capitalize }} {{ form.errors.messages['email'] }}.</span>
                    </span>
                    {% endif %}
                {% endform %}
        </div>
    </div>
</section>

{%- if section.settings.shop_collection -%}

    <section class="mt-28 mb-20 px-10 md:px-20 text-blue-2">
    
        <h2 class="font-semibold text-28 lg:text-4xl mb-3 tracking-normal normal-case">Shop<span class="text-green-3">/</span></h2>
        <h3 class="font-semibold text-28 lg:text-4xl">{{ section.settings.shop_title }}</h3>

        <ul class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 mt-16 lg:mt-24 gap-10 lg:gap-16 xl:gap-20 3xl:gap-28">
            {% for product in section.settings.shop_collection.products limit: 3 %}
              <li class="grid__item grid__item--{{section.id}} p-0 md:pr-4 md:last:hidden xl:last:block">
                {% include 'product-card-grid-gb', max_height: 345, product: product, show_vendor: false, img_class: 'bg-light-grey rounded-2xl aspect-square h-auto w-full mb-8 lg:mb-10 p-8' %}
              </li>
            {% endfor %}
        </ul>

    </section>

{%- endif -%}


{% schema %}
{
  "name": {
    "da": "Blogsider",
    "de": "Blogseiten",
    "en": "Blog pages",
    "es": "Páginas del blog",
    "fi": "Blogisivut",
    "fr": "Pages du blog",
    "hi": "ब्लॉग पेज",
    "it": "Pagine del blog",
    "ja": "ブログページ",
    "ko": "블로그 페이지",
    "nb": "Bloggsider",
    "nl": "Blogpagina's",
    "pt-BR": "Páginas do blog",
    "pt-PT": "Páginas do blogue",
    "sv": "Bloggsidor",
    "th": "หน้าบล็อก",
    "zh-CN": "博客页面",
    "zh-TW": "部落格頁面"
  },
  "settings": [
    {
        "type": "header",
        "content": "Blog Section"
    },
    {
      "type": "blog",
      "id": "blog",
      "label": "Blog"
    },
    {
      "type": "text",
      "id": "title",
      "label": "Title Section"
    },
    {
      "type": "text",
      "id": "subtitle",
      "label": "Subtitle Section"
    },
    {
      "type": "text",
      "id": "text_link",
      "label": "Text Link"
    },
    {
        "type": "header",
        "content": "Newsletter Section"
    },
    {
        "type": "text",
        "id": "newsletter_title",
        "label": "Title Section"
    },
    {
        "type": "image_picker",
        "id": "newsletter_image",
        "label": "Backgground Image"
    },
    {
        "type": "header",
        "content": "Shop Section"
    },
    {
        "type": "text",
        "id": "shop_title",
        "label": "Title Section"
    },
    {
        "type": "collection",
        "id": "shop_collection",
        "label": "Shop Collection"
    }
  ]
}
{% endschema %}
